<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>GameVault</title>
</head>
<body>
    <!-- –ö–∞—Å—Ç–æ–º–Ω—ã–π Titlebar –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è –æ–∫–Ω–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div id="titlebar" class="pywebview-drag-region">
        <div id="drag-region">GameVault</div>
        <div id="window-controls">
            <button onclick="pywebview.api.minimize_window()">‚Äî</button>
            <button onclick="pywebview.api.close_window()" class="close-btn">√ó</button>
        </div>
    </div>

    <div id="app-container">
        <!-- –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å (Sidebar) -->
        <aside id="sidebar">
            <div class="nav-section">
                <button id="nav-home" class="nav-btn active" onclick="showDashboard()">–ì–ª–∞–≤–Ω–∞—è</button>
                <button id="nav-editor" class="nav-btn" onclick="showEditor()">–†–µ–¥–∞–∫—Ç–æ—Ä</button>
            </div>           
            <div class="library-header">
                <span>–ë–ò–ë–õ–ò–û–¢–ï–ö–ê</span>
                <div class="header-actions">
                    <button onclick="loadGames()" id="refresh-btn" title="–û–±–Ω–æ–≤–∏—Ç—å">üîÑ</button>
                    <button onclick="addFolder()" id="add-folder-btn" title="–î–æ–±–∞–≤–∏—Ç—å –ø–∞–ø–∫—É">+</button>
                </div>
            </div>
            <div id="game-list">
                <!-- –°—é–¥–∞ JS –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –∏–≥—Ä—ã -->
            </div>
        </aside>

        <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <main id="main-content">
            <div id="dashboard-view">
                <h1 class="iris-text">GameVault</h1>
                <p class="muted-text">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å. –í—ã–±–µ—Ä–∏—Ç–µ –∏–≥—Ä—É –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±—ç–∫–∞–ø–∞–º–∏.</p>
                
                <div class="stats-container">
                    <div class="stat-card">
                        <span id="stat-total-games">0</span>
                        <label>–ò–≥—Ä –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ</label>
                    </div>
                    <div class="stat-card">
                        <span id="stat-backup-count">?</span>
                        <label>–ë—ç–∫–∞–ø–æ–≤ —Å–æ–∑–¥–∞–Ω–æ</label>
                    </div>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ –∏–≥—Ä—ã (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
            <div id="game-view" style="display: none;">
                <div id="hero-section">
                    <div id="hero-content">
                        <div id="game-info">
                            <img id="game-logo" src="" alt="">
                            <h1 id="game-title-fallback"></h1>
                            
                            <div id="game-badges">
                                <span id="source-badge" class="game-badge"></span>
                                <p id="active-game-details" class="game-badge"></p>
                            </div>

                            <div id="action-bar">
                                <div class="action-group">
                                    <button class="primary-btn" id="backup-btn" onclick="requestBackup()">
                                        <span class="btn-icon">üì¶</span> BACKUP
                                    </button>
                                    <button class="secondary-btn" id="open-folder-btn" onclick="openGameFolder()">
                                        <span class="btn-icon">üìÇ</span> –ü–∞–ø–∫–∞ –∏–≥—Ä—ã
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="progress-container" style="display: none;">
                    <div id="progress-text">–°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞...</div>
                    <div id="progress-bar-bg"><div id="progress-bar-fill"></div></div>
                </div>

                <div id="game-stats-row">
                    <div class="info-block">
                        <label>–†–∞–∑–º–µ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π</label>
                        <span id="save-size">0 KB</span>
                    </div>
                </div>

                <div id="backup-history-section">
                    <h3>–ò—Å—Ç–æ—Ä–∏—è –±—ç–∫–∞–ø–æ–≤</h3>
                    <div id="history-list">
                        <!-- –°—é–¥–∞ –ø–æ–ø–∞–¥—É—Ç —Ñ–∞–π–ª—ã .zip -->
                    </div>
                    <button class="text-btn" onclick="openBackupFolder()">–û—Ç–∫—Ä—ã—Ç—å –ø–∞–ø–∫—É —Å –±—ç–∫–∞–ø–∞–º–∏</button>
                </div>
            </div>
        </main>

    </div>

    <script src="script.js"></script>
</body>
</html>